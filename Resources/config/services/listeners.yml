parameters:
    gedmo.listener.timestampable.class: Gedmo\Timestampable\TimestampableListener
    ecentria.controller.transactional_listener.class: Ecentria\Libraries\CoreRestBundle\EventListener\TransactionalListener

services:
    gedmo.listener.timestampable:
        class: %gedmo.listener.timestampable.class%
        tags:
            - { name: doctrine.event_subscriber, connection: default }
        calls:
            - [ setAnnotationReader, [ @annotation_reader ] ]

    ecentria.controller.transactional_listener:
        class: %ecentria.controller.transactional_listener.class%
        tags:
            - { name: kernel.event_subscriber }
        arguments:
            - @annotation_reader
            - @ecentria.transaction.builder
            - @doctrine.orm.default_entity_manager